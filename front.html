<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Email Spam Checker</title>

<style>
body {
    background: linear-gradient(135deg, #1d2671, #c33764);
    font-family: Arial;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}
.box {
    background: white;
    width: 420px;
    padding: 25px;
    border-radius: 15px;
    text-align: center;
}
textarea {
    width: 100%;
    height: 130px;
    padding: 10px;
}
button {
    width: 100%;
    margin-top: 15px;
    padding: 12px;
    border-radius: 25px;
    border: none;
    background: linear-gradient(135deg, #1d2671, #c33764);
    color: white;
    cursor: pointer;
}
.result {
    margin-top: 15px;
    font-weight: bold;
}
</style>
</head>

<body>
<div class="box">
    <h2>Email Spam Detection</h2>
    <textarea id="emailText" placeholder="Paste email here..."></textarea>
    <button onclick="checkSpam()">Check Email</button>
    <div id="result" class="result"></div>
</div>

<script>
async function checkSpam() {
    const text = document.getElementById("emailText").value;
    const result = document.getElementById("result");

    if (!text.trim()) {
        result.innerText = "‚ùå Please enter text";
        result.style.color = "red";
        return;
    }

    result.innerText = "‚è≥ Checking...";
    result.style.color = "black";

    try {
        const res = await fetch("/predict", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({ text })
        });

        const data = await res.json();

        if (data.prediction === "SPAM") {
            result.innerText = `üö® SPAM (${data.spam_probability})`;
            result.style.color = "red";
        } else {
            result.innerText = `‚úÖ NOT SPAM (${data.spam_probability})`;
            result.style.color = "green";
        }

    } catch {
        result.innerText = "‚ùå Server error";
        result.style.color = "red";
    }
}
</script>
</body>
</html>
